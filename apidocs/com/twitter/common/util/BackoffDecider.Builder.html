<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<TITLE>
BackoffDecider.Builder
</TITLE>


<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BackoffDecider.Builder";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<script type="text/javascript">top.updateArtifact(window.location);</script><HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BackoffDecider.Builder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.RecoveryType.html" title="enum in com.twitter.common.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/twitter/common/util/BackoffDecider.Builder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackoffDecider.Builder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.twitter.common.util</FONT>
<BR>
Class BackoffDecider.Builder</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.twitter.common.util.BackoffDecider.Builder</B>
</PRE>
<DL>
<DT><B>Enclosing class:</B><DD><A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util">BackoffDecider</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public static class <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.html#line.379"><B>BackoffDecider.Builder</B></A><DT>extends java.lang.Object</DL>
</PRE>

<P>
Builder class to configure a BackoffDecider.

 The builder allows for customization of many different parameters to the BackoffDecider, while
 defining defaults wherever possible.  The following defaults are used:

 <ul>
 <li> seed size - The number of requests to accumulate before a backoff will be considered.
 100

 <li> tolerated failure rate - Maximum failure rate before backing off.
 0.5

 <li> decider group - Group this decider is a part of, to prevent complete backend failure.
 null (disabled)

 <li> strategy - Used to calculate subsequent backoff durations.
 TruncatedBinaryBackoff, initial 100 ms, max 10s

 <li> recovery period - Fixed recovery period while ramping traffic back to full capacity..
 null (use last backoff period)

 <li> request window - Duration of the sliding window of requests to track statistics for.
 10 seconds

 <li> num buckets - The number of time slices within the request window, for stat expiration.
               The sliding request window advances in intervals of request window / num buckets.
 100

 <li> recovery type - Defines behavior during the recovery period, and how traffic is permitted.
 random linear

 <li> stat provider - The stats provider to export statistics to.
 Stats.STATS_PROVIDER
 </ul>
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util">BackoffDecider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#build()">build</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a reference to the built decider object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#groupWith(java.util.Set)">groupWith</A></B>(java.util.Set&lt;<A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util">BackoffDecider</A>&gt;&nbsp;deciderGroup)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makes the decider a part of a group.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withBucketCount(int)">withBucketCount</A></B>(int&nbsp;numBuckets)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the number of time slices that the decider will use to partition aggregate statistics.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withClock(com.twitter.common.util.Clock)">withClock</A></B>(<A HREF="../../../../com/twitter/common/util/Clock.html" title="interface in com.twitter.common.util">Clock</A>&nbsp;clock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withRandom(com.twitter.common.util.Random)">withRandom</A></B>(<A HREF="../../../../com/twitter/common/util/Random.html" title="interface in com.twitter.common.util">Random</A>&nbsp;random)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withRecoveryPeriod(com.twitter.common.quantity.Amount)">withRecoveryPeriod</A></B>(<A HREF="../../../../com/twitter/common/quantity/Amount.html" title="class in com.twitter.common.quantity">Amount</A>&lt;java.lang.Long,<A HREF="../../../../com/twitter/common/quantity/Time.html" title="enum in com.twitter.common.quantity">Time</A>&gt;&nbsp;recoveryPeriod)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides the default recovery period behavior.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withRecoveryType(com.twitter.common.util.BackoffDecider.RecoveryType)">withRecoveryType</A></B>(<A HREF="../../../../com/twitter/common/util/BackoffDecider.RecoveryType.html" title="enum in com.twitter.common.util">BackoffDecider.RecoveryType</A>&nbsp;recoveryType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the recovery mechanism to use when in the recovery period.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withRequestWindow(com.twitter.common.quantity.Amount)">withRequestWindow</A></B>(<A HREF="../../../../com/twitter/common/quantity/Amount.html" title="class in com.twitter.common.quantity">Amount</A>&lt;java.lang.Long,<A HREF="../../../../com/twitter/common/quantity/Time.html" title="enum in com.twitter.common.quantity">Time</A>&gt;&nbsp;requestWindow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the time window over which to analyze failures.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withSeedSize(int)">withSeedSize</A></B>(int&nbsp;seedSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the number of requests that must be accumulated before the error rate will be
 calculated.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withStatsProvider(com.twitter.common.stats.StatsProvider)">withStatsProvider</A></B>(<A HREF="../../../../com/twitter/common/stats/StatsProvider.html" title="interface in com.twitter.common.stats">StatsProvider</A>&nbsp;statsProvider)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the stats provider that statistics should be exported to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withStrategy(com.twitter.common.util.BackoffStrategy)">withStrategy</A></B>(<A HREF="../../../../com/twitter/common/util/BackoffStrategy.html" title="interface in com.twitter.common.util">BackoffStrategy</A>&nbsp;strategy)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides the default backoff strategy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html#withTolerateFailureRate(double)">withTolerateFailureRate</A></B>(double&nbsp;toleratedRate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the tolerated failure rate for the decider.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="withSeedSize(int)"><!-- --></A><H3>
withSeedSize</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.406"><B>withSeedSize</B></A>(int&nbsp;seedSize)</PRE>
<DL>
<DD>Sets the number of requests that must be accumulated before the error rate will be
 calculated.  This improves the genesis problem where the first few requests are errors,
 causing flapping in and out of backoff state.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seedSize</CODE> - Request seed size.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withTolerateFailureRate(double)"><!-- --></A><H3>
withTolerateFailureRate</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.418"><B>withTolerateFailureRate</B></A>(double&nbsp;toleratedRate)</PRE>
<DL>
<DD>Sets the tolerated failure rate for the decider.  If the rate is exceeded for the time
 window, the decider begins backing off.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>toleratedRate</CODE> - The tolerated failure rate (between 0.0 and 1.0, exclusive).
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="groupWith(java.util.Set)"><!-- --></A><H3>
groupWith</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.431"><B>groupWith</B></A>(java.util.Set&lt;<A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util">BackoffDecider</A>&gt;&nbsp;deciderGroup)</PRE>
<DL>
<DD>Makes the decider a part of a group.  When a decider is a part of a group, it will monitor
 the other deciders to ensure that all deciders do not back off at once.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>deciderGroup</CODE> - Group to make this decider a part of.  More deciders may be added to the
     group after this call is made.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withStrategy(com.twitter.common.util.BackoffStrategy)"><!-- --></A><H3>
withStrategy</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.442"><B>withStrategy</B></A>(<A HREF="../../../../com/twitter/common/util/BackoffStrategy.html" title="interface in com.twitter.common.util">BackoffStrategy</A>&nbsp;strategy)</PRE>
<DL>
<DD>Overrides the default backoff strategy.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>strategy</CODE> - Backoff strategy to use.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withRecoveryPeriod(com.twitter.common.quantity.Amount)"><!-- --></A><H3>
withRecoveryPeriod</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.455"><B>withRecoveryPeriod</B></A>(<FONT SIZE="-1">@Nullable</FONT>
                                                 <A HREF="../../../../com/twitter/common/quantity/Amount.html" title="class in com.twitter.common.quantity">Amount</A>&lt;java.lang.Long,<A HREF="../../../../com/twitter/common/quantity/Time.html" title="enum in com.twitter.common.quantity">Time</A>&gt;&nbsp;recoveryPeriod)</PRE>
<DL>
<DD>Overrides the default recovery period behavior.  By default, the recovery period is equal
 to the previous backoff period (which is equivalent to setting the recovery period to null
 here).  A non-null value here will assign a fixed recovery period.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recoveryPeriod</CODE> - Fixed recovery period.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withRequestWindow(com.twitter.common.quantity.Amount)"><!-- --></A><H3>
withRequestWindow</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.467"><B>withRequestWindow</B></A>(<A HREF="../../../../com/twitter/common/quantity/Amount.html" title="class in com.twitter.common.quantity">Amount</A>&lt;java.lang.Long,<A HREF="../../../../com/twitter/common/quantity/Time.html" title="enum in com.twitter.common.quantity">Time</A>&gt;&nbsp;requestWindow)</PRE>
<DL>
<DD>Sets the time window over which to analyze failures.  Beyond the time window, request history
 is discarded (and ignored).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestWindow</CODE> - The analysis time window.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withBucketCount(int)"><!-- --></A><H3>
withBucketCount</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.478"><B>withBucketCount</B></A>(int&nbsp;numBuckets)</PRE>
<DL>
<DD>Sets the number of time slices that the decider will use to partition aggregate statistics.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>numBuckets</CODE> - Bucket count.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withRecoveryType(com.twitter.common.util.BackoffDecider.RecoveryType)"><!-- --></A><H3>
withRecoveryType</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.489"><B>withRecoveryType</B></A>(<A HREF="../../../../com/twitter/common/util/BackoffDecider.RecoveryType.html" title="enum in com.twitter.common.util">BackoffDecider.RecoveryType</A>&nbsp;recoveryType)</PRE>
<DL>
<DD>Sets the recovery mechanism to use when in the recovery period.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>recoveryType</CODE> - The recovery mechanism to use.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withStatsProvider(com.twitter.common.stats.StatsProvider)"><!-- --></A><H3>
withStatsProvider</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.500"><B>withStatsProvider</B></A>(<A HREF="../../../../com/twitter/common/stats/StatsProvider.html" title="interface in com.twitter.common.stats">StatsProvider</A>&nbsp;statsProvider)</PRE>
<DL>
<DD>Sets the stats provider that statistics should be exported to.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>statsProvider</CODE> - Stats provider to use.
<DT><B>Returns:</B><DD>A reference to the builder.</DL>
</DD>
</DL>
<HR>

<A NAME="withRandom(com.twitter.common.util.Random)"><!-- --></A><H3>
withRandom</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.505"><B>withRandom</B></A>(<A HREF="../../../../com/twitter/common/util/Random.html" title="interface in com.twitter.common.util">Random</A>&nbsp;random)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="withClock(com.twitter.common.util.Clock)"><!-- --></A><H3>
withClock</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.Builder.html" title="class in com.twitter.common.util">BackoffDecider.Builder</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.510"><B>withClock</B></A>(<A HREF="../../../../com/twitter/common/util/Clock.html" title="interface in com.twitter.common.util">Clock</A>&nbsp;clock)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="build()"><!-- --></A><H3>
build</H3>
<PRE>
public <A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util">BackoffDecider</A> <A HREF="../../../../src-html/com/twitter/common/util/BackoffDecider.Builder.html#line.519"><B>build</B></A>()</PRE>
<DL>
<DD>Gets a reference to the built decider object.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A decider object.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BackoffDecider.Builder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.html" title="class in com.twitter.common.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/twitter/common/util/BackoffDecider.RecoveryType.html" title="enum in com.twitter.common.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/twitter/common/util/BackoffDecider.Builder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackoffDecider.Builder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
